
global arguments=""

probe syscall.*
{
    if (pid() == target())
    {
        arguments = argstr
    }
}

probe syscall.*.return
{
        if (pid() == target())
        {
            if ($return >= 0)
                errno = 0
            else
                errno = $return
            printf("%s (%s) = %d %s\n", name, arguments, $return, errno_str(errno))
            arguments=""
        }
}
